<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Dmisc">
<title>Cut Cut Cut • Dmisc</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Cut Cut Cut">
<meta property="og:description" content="Dmisc">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">Dmisc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/cut3.html">Cut Cut Cut</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/drdsdaniel/Dmisc/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Cut Cut Cut</h1>
            <h3 data-toc-skip class="subtitle">Why cut3?</h3>
            
      
      <small class="dont-index">Source: <a href="https://github.com/drdsdaniel/Dmisc/blob/HEAD/vignettes/cut3.Rmd" class="external-link"><code>vignettes/cut3.Rmd</code></a></small>
      <div class="d-none name"><code>cut3.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://drdsdaniel.github.io/Dmisc/" class="external-link">Dmisc</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Datos sintéticos para los ejemplos.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  sex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'M'</span>, <span class="st">'F'</span><span class="op">)</span>, each <span class="op">=</span> <span class="fl">500</span><span class="op">)</span>,</span>
<span>  age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">20</span><span class="op">:</span><span class="fl">60</span>, <span class="fl">500</span>, <span class="cn">TRUE</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">30</span><span class="op">:</span><span class="fl">70</span>, <span class="fl">500</span>, <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>When working with data, it is common to encounter the need to analyze
numerical variables. In certain cases, using basic statistical measures
such as mean, sum, minimum and maximum values, and others is sufficient,
especially when looking at the relationship of these variables with
categorical variables.</p>
<p>When the situation requires comparing two numerical variables, we can
use metrics like correlation, regression, covariance, and others, to
establish a relationship between both. However, there often arises a
need to convert these numerical variables into categorical ones to
capture and highlight differences among different demographic or
population groups.</p>
<p>For this purpose, the statistical programming language <code>R</code>
provides the <code>cut</code> function. As per its documentation,
<code>cut</code> is a function designed to <em>convert a numerical
variable into a factor one</em><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;In R, a factor is a categorical variable type. It is
similar to a text (character) variable type, but only takes a finite set
of values (levels).&lt;/p&gt;"><sup>1</sup></a>.</p>
<p>Moreover, there are third-party libraries that expand the
capabilities of the <code>cut</code> function, adding more
functionalities. An example of this is the <code>cut3</code> function
from the <code>Dmisc</code> package. Next, we will examine how these
functions work and compare the utility and effectiveness of
<code>cut3</code> with other available alternatives.</p>
<div class="callout-note">
<p>The first and fundamental difference of <code>cut3</code>, compared
to the rest of the functions designed for these purposes, is that the
former is designed to operate on a data.frame, while the latter are
designed to work with the numerical vector of interest.</p>
<p>In terms of advantages, this can mean greater flexibility and
efficiency in some cases. Instead of having to isolate a numerical
vector and work with it individually, <code>cut3</code> allows the user
to operate directly on the complete data.frame. This can be particularly
useful in situations where multiple columns need to be manipulated or
analyzed simultaneously, <em>as will be seen later</em>.</p>
<p>However, this functionality also presents some disadvantages. The
main one is that <code>cut3</code> overwrites the variable in question
within the data.frame, and it is not intuitive how to assign it to a new
variable.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;This can be achieved by simply creating a variable that
is a copy of the original before making the cut.&lt;/p&gt;"><sup>2</sup></a></p>
</div>
<div class="section level2">
<h2 id="cuts">Cuts<a class="anchor" aria-label="anchor" href="#cuts"></a>
</h2>
<p>The most important argument of these functions, after the data, is
<code>breaks</code>. This argument consists of an indication of how the
intervals in the resulting categorical variable are constructed.</p>
<div class="section level3">
<h3 id="a-single-number">A Single Number<a class="anchor" aria-label="anchor" href="#a-single-number"></a>
</h3>
<p>When the <code>breaks</code> argument consists of a single number (an
integer and greater than or equal to 2)<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;When &lt;code&gt;breaks&lt;/code&gt; is specified in this way, the
variable is divided into segments of equal length. For more details,
refer to the &lt;code&gt;&lt;a href="https://rdrr.io/r/base/cut.html" class="external-link"&gt;cut()&lt;/a&gt;&lt;/code&gt; function documentation.&lt;/p&gt;'><sup>3</sup></a>, it is interpreted as
the number of cuts that should be made in the numerical variable when
converting it into a categorical variable.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df2</span> <span class="op">&lt;-</span> <span class="va">df</span></span>
<span><span class="va">df2</span><span class="op">$</span><span class="va">age</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cut.html" class="external-link">cut</a></span><span class="op">(</span><span class="va">df2</span><span class="op">$</span><span class="va">age</span>, breaks <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span></span>
<span><span class="co">#&gt;    age</span></span>
<span><span class="co">#&gt; sex (19.9,32.5] (32.5,45] (45,57.5] (57.5,70]</span></span>
<span><span class="co">#&gt;   F          31       171       144       154</span></span>
<span><span class="co">#&gt;   M         155       159       150        36</span></span></code></pre></div>
<p>In this case, except for a slight difference in terms of syntax, the
same result could be achieved using <code>cut3</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df3</span> <span class="op">&lt;-</span> <span class="fu">Dmisc</span><span class="fu">::</span><span class="fu"><a href="../reference/cut3.html">cut3</a></span><span class="op">(</span></span>
<span>  <span class="va">df</span>, </span>
<span>  var_name <span class="op">=</span> <span class="st">'age'</span>, </span>
<span>  breaks <span class="op">=</span> <span class="fl">4</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">df3</span><span class="op">)</span></span>
<span><span class="co">#&gt;    age</span></span>
<span><span class="co">#&gt; sex (19.9,32.5] (32.5,45] (45,57.5] (57.5,70]</span></span>
<span><span class="co">#&gt;   F          31       171       144       154</span></span>
<span><span class="co">#&gt;   M         155       159       150        36</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="a-numeric-vector">A Numeric Vector<a class="anchor" aria-label="anchor" href="#a-numeric-vector"></a>
</h3>
<p>When the <code>breaks</code> argument is passed as a numeric vector,
the values contained in this vector are interpreted as the cut points
for constructing the intervals into which the variable in question will
be divided.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df2</span> <span class="op">&lt;-</span> <span class="va">df</span></span>
<span><span class="va">df2</span><span class="op">$</span><span class="va">age</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cut.html" class="external-link">cut</a></span><span class="op">(</span></span>
<span>  <span class="va">df2</span><span class="op">$</span><span class="va">age</span>, </span>
<span>  breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">20</span>, <span class="fl">40</span>, <span class="fl">60</span>, <span class="fl">80</span>, <span class="fl">100</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span></span>
<span><span class="co">#&gt;    age</span></span>
<span><span class="co">#&gt; sex (0,20] (20,40] (40,60] (60,80] (80,100]</span></span>
<span><span class="co">#&gt;   F      0     137     245     118        0</span></span>
<span><span class="co">#&gt;   M      5     235     260       0        0</span></span></code></pre></div>
<p>Again, the same can be achieved using the <code><a href="../reference/cut3.html">cut3()</a></code>
function.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df3</span> <span class="op">&lt;-</span> <span class="va">df</span></span>
<span><span class="va">df3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cut3.html">cut3</a></span><span class="op">(</span></span>
<span>  <span class="va">df3</span>, </span>
<span>  var_name <span class="op">=</span> <span class="st">"age"</span>, </span>
<span>  breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">20</span>, <span class="fl">40</span>, <span class="fl">60</span>, <span class="fl">80</span>, <span class="fl">100</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">df3</span><span class="op">)</span></span>
<span><span class="co">#&gt;    age</span></span>
<span><span class="co">#&gt; sex (0,20] (20,40] (40,60] (60,80] (80,100]</span></span>
<span><span class="co">#&gt;   F      0     137     245     118        0</span></span>
<span><span class="co">#&gt;   M      5     235     260       0        0</span></span></code></pre></div>
<p>It is important to note that this vector of values must contain an
initial value <code>less than</code> the <code>minimum</code> of the
variable and a final value <code>greater or equal</code> to the
<code>maximum</code> of the variable. This is due to how the intervals
are constructed.</p>
<p>Note in the label of the created variable <code>(0,20]</code> that
the lower limit of the interval is open <code>(</code>, which means that
only values greater than 0 are included. You can change this behavior
and make the first range closed using the <code>include.lowest</code>
argument. While the upper limit is closed <code>]</code>, meaning it
includes values less or equal to 20.</p>
<p>If the vector of values does not meet the criteria described above,
values that do not fit into any interval will be marked as
<code>NA</code> in the resulting variable. Additionally, in the case of
the <code><a href="../reference/cut3.html">cut3()</a></code> function, if the user sets the .inf argument to
True, the provided cut points will be extended with -Inf and Inf. This
means that any value will be included in the resulting variable, even if
it is outside the range of the original values. It’s a useful feature
when the maximum and minimum value of the variable is not known
beforehand, and you want to include all values without having to set
specific limits.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/cut3.html">cut3</a></span><span class="op">(</span></span>
<span>  <span class="va">df</span>, </span>
<span>  var_name <span class="op">=</span> <span class="st">"age"</span>, </span>
<span>  breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">20</span>, <span class="fl">40</span>, <span class="fl">60</span>, <span class="fl">80</span>, <span class="fl">100</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="co"># Will leave NAs</span></span>
<span></span>
<span><span class="fu"><a href="../reference/cut3.html">cut3</a></span><span class="op">(</span></span>
<span>  <span class="va">df</span>, </span>
<span>  var_name <span class="op">=</span> <span class="st">"age"</span>, </span>
<span>  breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">40</span>, <span class="fl">60</span>, <span class="fl">80</span><span class="op">)</span>, </span>
<span>  include.lowest <span class="op">=</span> <span class="cn">T</span></span>
<span><span class="op">)</span> <span class="co"># Will leave NAs</span></span>
<span></span>
<span><span class="fu"><a href="../reference/cut3.html">cut3</a></span><span class="op">(</span></span>
<span>  <span class="va">df</span>, </span>
<span>  var_name <span class="op">=</span> <span class="st">"age"</span>, </span>
<span>  breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">40</span>, <span class="fl">60</span>, <span class="fl">80</span><span class="op">)</span>, </span>
<span>  .inf <span class="op">=</span> <span class="cn">F</span></span>
<span><span class="op">)</span> <span class="co"># Will not leave NAs</span></span></code></pre></div>
<p>Finally, it is essential that the values in this vector are unique.
This is fundamentally relevant when the cut points are not manually
assigned, but some other strategy is used for the ends.</p>
</div>
<div class="section level3">
<h3 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a>
</h3>
<p>One of the main innovations of <code><a href="../reference/cut3.html">cut3()</a></code> compared to
<code><a href="https://rdrr.io/r/base/cut.html" class="external-link">cut()</a></code> is that the <code>breaks</code> vector can be a
function that generates the numeric vector of cuts. The most common use
case for this feature is perhaps when quantiles are wanted to divide the
variable.</p>
<p>For these purposes, the <code>bf_args</code> argument should be used,
which specifies additional arguments, which should be passed to the
function used to construct the break points.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/cut3.html">cut3</a></span><span class="op">(</span></span>
<span>    <span class="va">df</span>, </span>
<span>    var_name <span class="op">=</span> <span class="st">"age"</span>, </span>
<span>    breaks <span class="op">=</span> <span class="va">quantile</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt;    age</span></span>
<span><span class="co">#&gt; sex (20,36] (36,45] (45,55] (55,70]</span></span>
<span><span class="co">#&gt;   F      76     126     126     172</span></span>
<span><span class="co">#&gt;   M     195     114     128      58</span></span></code></pre></div>
<p>In the example code above, the <code><a href="../reference/cut3.html">cut3()</a></code> function is used
to divide the “age” variable in the <code>df</code> data.frame into
groups or bins based on quantiles. Here, <code>breaks</code> is set as
<code>quantile</code>, which means that the quantiles of the “age”
distribution are used to define the break points.</p>
<p>An interesting feature of this approach is that it allows for greater
flexibility in defining the groups. For example, instead of dividing the
variable into equal-sized groups, you can divide it into groups based on
the distribution of the data. This can be particularly useful when
dealing with variables that have a skewed distribution or are highly
concentrated in certain ranges.</p>
<p>Furthermore, by allowing <code>breaks</code> to be a function,
<code><a href="../reference/cut3.html">cut3()</a></code> offers the possibility of dynamically generating
break points based on the data. This can facilitate the creation of more
robust and adaptable analysis, as there is no need to define the break
points beforehand.</p>
<p>Finally, it should be mentioned that the <code>bf_args</code>
argument allows you to pass additional arguments to the
<code>breaks</code> function. This offers even more flexibility, as you
can customize the <code>breaks</code> function to suit your specific
needs. For example, you could change the quantiles used to divide the
variable, or you could use a completely different function to generate
the break points.</p>
<div class="section level4">
<h4 id="dmisccut3_quantiles">Dmisc::cut3_quantiles<a class="anchor" aria-label="anchor" href="#dmisccut3_quantiles"></a>
</h4>
<p>The Dmisc package already includes the <code>cut3_quantile</code>
function, which is a variant of cut3 designed specifically to divide a
variable into quantiles.</p>
<p><code>cut3_quantile</code> takes a data.frame, a variable, and a set
of probabilities that define the quantiles. If no probabilities are
specified, by default the first quartile, median, and third quartile are
used. It then calls cut3 with R’s quantile function as an argument for
the break points.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/cut3_quantile.html">cut3_quantile</a></span><span class="op">(</span></span>
<span>    <span class="va">df</span>, </span>
<span>    var_name <span class="op">=</span> <span class="st">"age"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt;    age</span></span>
<span><span class="co">#&gt; sex (-Inf,36] (36,45] (45,55] (55, Inf]</span></span>
<span><span class="co">#&gt;   F        76     126     126       172</span></span>
<span><span class="co">#&gt;   M       200     114     128        58</span></span></code></pre></div>
<p>In the example code above, <code>cut3_quantile</code> divides the
“age” variable in the <code>df</code> data.frame into quartiles.</p>
<p>Therefore, if you want to divide a variable into quantiles, you can
directly use <code>cut3_quantile</code> instead of passing
<code>quantile</code> as an argument for <code>breaks</code> in
<code>cut3</code>.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="groups">Groups<a class="anchor" aria-label="anchor" href="#groups"></a>
</h2>
<p>Another addition to <code><a href="../reference/cut3.html">cut3()</a></code> is the ability to define
different cuts for different groups. This is particularly useful when
break points are specified using functions.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/cut3.html">cut3</a></span><span class="op">(</span></span>
<span>    <span class="va">df</span>, </span>
<span>    var_name <span class="op">=</span> <span class="st">"age"</span>, </span>
<span>    breaks <span class="op">=</span> <span class="fl">4</span>, </span>
<span>    .inf <span class="op">=</span> <span class="cn">F</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt;    age</span></span>
<span><span class="co">#&gt; sex (19.9,32.5] (32.5,45] (45,57.5] (57.5,70]</span></span>
<span><span class="co">#&gt;   F          31       171       144       154</span></span>
<span><span class="co">#&gt;   M         155       159       150        36</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/cut3.html">cut3</a></span><span class="op">(</span></span>
<span>    <span class="va">df</span>, </span>
<span>    var_name <span class="op">=</span> <span class="st">"age"</span>, </span>
<span>    breaks <span class="op">=</span> <span class="fl">4</span>, </span>
<span>    .inf <span class="op">=</span> <span class="cn">F</span>, </span>
<span>    groups <span class="op">=</span> <span class="st">"sex"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt;    age</span></span>
<span><span class="co">#&gt; sex (20,30] (30,40] (40,50] (50,60] (60,70]</span></span>
<span><span class="co">#&gt;   F       0     137     122     123     118</span></span>
<span><span class="co">#&gt;   M     134     106     141     119       0</span></span></code></pre></div>
<p>In the previous code example, <code><a href="../reference/cut3.html">cut3()</a></code> is used to divide
the “age” variable in the data.frame <code>df</code> into groups, but
the cuts are defined separately for each value of the “sex” variable.
This means that the groups generated for “age” will be different for
males and females, which can be very useful in analyses that require
taking into account differences between groups.</p>
<p>This feature of <code><a href="../reference/cut3.html">cut3()</a></code> is very powerful as it allows
adapting the break points to the specific characteristics of each group.
In many cases, the distribution of a variable can significantly vary
among different groups, and using the same break points for all groups
might result in an inaccurate representation of the data.</p>
<p>For instance, imagine that you are analyzing the age of participants
in a study and you discover that the distribution of ages is quite
different for males and females. If you use the same break points for
both groups, you might end up with bins that contain many females but
few males, or vice versa. By allowing you to define break points
separately for each group, <code><a href="../reference/cut3.html">cut3()</a></code> enables you to avoid this
problem and ensure a more accurate representation of the data for each
group.</p>
<p>In addition, this function is particularly useful when break points
are specified using functions, as these functions can adapt to the
specific characteristics of each group. For example, you could use
quantiles to define the break points, which would ensure that the bins
contain approximately the same proportion of observations for each
group, regardless of differences in the data distributions.</p>
</div>
<div class="section level2">
<h2 id="weights">Weights<a class="anchor" aria-label="anchor" href="#weights"></a>
</h2>
<p>TODO</p>
</div>
<div class="section level2">
<h2 id="labels">Labels<a class="anchor" aria-label="anchor" href="#labels"></a>
</h2>
<p>As you may have noticed in the previous examples, the labels of the
data for the resulting variable are constructed using the corresponding
interval notation. However, this behavior can be modified by providing
the <code>labels = F</code> argument. In this case, a simple
auto-incrementing number will be used to name the intervals.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/cut3.html">cut3</a></span><span class="op">(</span></span>
<span>    <span class="va">df</span>, </span>
<span>    var_name <span class="op">=</span> <span class="st">"age"</span>, </span>
<span>    breaks <span class="op">=</span> <span class="fl">4</span>, </span>
<span>    labels <span class="op">=</span> <span class="cn">F</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt;    age</span></span>
<span><span class="co">#&gt; sex   1   2   3   4</span></span>
<span><span class="co">#&gt;   F  31 171 144 154</span></span>
<span><span class="co">#&gt;   M 155 159 150  36</span></span></code></pre></div>
<p>Furthermore, you can provide a vector specifying the labels you want
to use in constructing the variable. Labels will be assigned in the
order they are specified. Additionally, the number of labels must be
exactly equal to the number of resulting bins.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/cut3.html">cut3</a></span><span class="op">(</span></span>
<span>    <span class="va">df</span>, </span>
<span>    var_name <span class="op">=</span> <span class="st">"age"</span>, </span>
<span>    breaks <span class="op">=</span> <span class="fl">4</span>, </span>
<span>    labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"1 - 25 years"</span>, </span>
<span>      <span class="st">"21 - 50 years"</span>, </span>
<span>      <span class="st">"51 - 75 years"</span>, </span>
<span>      <span class="st">"76 - 100 years"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt;    age</span></span>
<span><span class="co">#&gt; sex 1 - 25 years 21 - 50 years 51 - 75 years 76 - 100 years</span></span>
<span><span class="co">#&gt;   F           31           171           144            154</span></span>
<span><span class="co">#&gt;   M          155           159           150             36</span></span></code></pre></div>
<p>This can be useful if you wish to customize the labels to make them
more descriptive or easier to understand. For instance, you could use
labels that describe the characteristics of individuals in each group,
or you could use labels that are more consistent with the terminology
used in your field of study. This can make your results clearer and
easier to interpret, for both you and other people who may be working
with your data.</p>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>The cut3 function from the Dmisc package in R offers advantages and
disadvantages. Compared to functions like cut, cut3 can offer greater
flexibility and efficiency by working directly with data.frames rather
than just with numeric vectors. This can be particularly helpful when
you need to manipulate or analyze multiple columns at once.</p>
<p>However, it also presents drawbacks, such as overwriting the original
variable within the data.frame, and can be less intuitive when needing
to assign the result to a new variable. In terms of performance, the
choice between cut and cut3 will largely depend on the context and the
specific needs of your analysis.</p>
<p>Lastly, it is always recommended to understand the differences and
peculiarities of the different tools available before making a decision
on which method to use to convert numeric variables into categorical
ones.</p>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Daniel E. de la Rosa.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
